%%
%% Customizações do abnTeX2 (http://abnTeX2.googlecode.com) para a Universidade XXXX
%%
%% This work may be distributed and/or modified under the
%% conditions of the LaTeX Project Public License, either version 1.3
%% of this license or (at your option) any later version.
%% The latest version of this license is in
%%   http://www.latex-project.org/lppl.txt
%% and version 1.3 or later is part of all distributions of LaTeX
%% version 2005/12/01 or later.
%%
%% This work has the LPPL maintenance status `maintained'.
%% 
%% The Current Maintainer of this work is SEU_NOME, SEU_EMAIL
%%
%% Further information about abnTeX2 are available on http://abntex2.googlecode.com/
%%

% ---
% INICIO DAS CUSTOMIZACOES PARA A UNIVERSIDADE XXX
% ---

\ProvidesPackage{utils/ifce-facilitadores}[2014/09/01 Criacao de facilitadores]

% criando facilitador para imagens

% ---
% add figura simples 
% ---
\usepackage{xparse}
\usepackage{xspace}
\NewDocumentCommand\figurasimples{ommm}{
\IfNoValueTF{#1}{
\begin{figure}[H]
  \begin{center}
    \caption{#3}\label{fig:#2}
    \includegraphics[width=#4]{#2} \par \vspace{0.5em}
    Fonte: Próprio autor.
  \end{center}
\end{figure}
}
{
\begin{figure}[H]
  \begin{center}
    \caption{#3}\label{fig:#2}
    \includegraphics[width=#4]{#2} \par \vspace{0.5em}
    Fonte: \citeauthor{#1}, \citeyear{#1}.
  \end{center}
\end{figure}
}\xspace}

%\newcommand{\figurasimples}[3]{
%  \begin{figure}[H]
%    \begin{center}
%      \includegraphics[width=#3]{#1}
%      \caption{#2}
%      \label{fig:#1}
%    \end{center}
%  \end{figure}
%}

% ---
% add figura dupla 
% ---
%\newcommand{\figuradupla}[4]{
%  \begin{figure}[H]
%    \begin{center}  
%      \begin{subfigure}[b]{.45\textwidth}
%        \includegraphics[width=\textwidth]{#1}
%        \caption{}
%        \label{fig:#1}
%      \end{subfigure}
%      ~
%      \begin{subfigure}[b]{.45\textwidth}
%        \includegraphics[width=\textwidth]{#3}
%        \caption{}
%        \label{fig:#3}
%      \end{subfigure}

%   \end{center}
%    \caption{(a) #2; (b) #4.}
%  \end{figure}
%}


\NewDocumentCommand\figuradupla{ommmm}{
\IfNoValueTF{#1}{
\begin{figure}[H]
  \begin{center}  
    \caption{(a) #3; (b) #5.}
    \begin{subfigure}[b]{.45\textwidth}
      \includegraphics[width=\textwidth]{#2}
      \caption{}
      \label{fig:#2}
    \end{subfigure}
    ~
    \begin{subfigure}[b]{.45\textwidth}
      \includegraphics[width=\textwidth]{#4}
      \caption{}
      \label{fig:#4}
    \end{subfigure} \par
  Fonte: Próprio autor.
  \end{center}
\end{figure}
}
{
\begin{figure}[H]
  \begin{center}  
    \caption{(a) #3; (b) #5.}
    \begin{subfigure}[b]{.45\textwidth}
      \includegraphics[width=\textwidth]{#2}
      \caption{}
      \label{fig:#2}
    \end{subfigure}
    ~
    \begin{subfigure}[b]{.45\textwidth}
      \includegraphics[width=\textwidth]{#4}
      \caption{}
      \label{fig:#4}
    \end{subfigure} \par
  Fonte: \citeauthor{#1}, \citeyear{#1}.
  \end{center}
\end{figure}
}\xspace}


\NewDocumentCommand\tabela{ommm}{
\IfNoValueTF{#1}{
\begin{table}[h] \scalefont{#4}
  \caption{#3.}\label{tab:#2}
  \begin{center}
    \input{tabelas/#2} \par \vspace{0.5em}
    Fonte: Próprio autor.
  \end{center}
\end{table}
}{
\begin{table}[h] \scalefont{#4}
  \caption{#3.}\label{tab:#2}
  \begin{center}
    \input{tabelas/#2} \par \vspace{0.5em}
    Fonte: \citeauthor{#1}, \citeyear{#1}.
  \end{center}
\end{table}
}\xspace}